---
sidebar_position: 5
---

# Prescription
Prescriptions are created by a [Medic](medic.md)  with a validated account. 

## List all Prescriptions
This endpoint will list all the prescriptions generated by the Token of the Medic.

The following parameters may be included as part of a URL query string.


|Parameter	| Description|
|--|--|
|limit	|Number of results to return per page.|
|offset|	The initial index from which to return the results.|

```python title="GET /api/v2/rx-endpoint/"
import requests
import json

url = "{{Base_URL}}/api/v2/rx-endpoint/"

payload={}
headers = {
  'Authorization': 'Token {{Token}}',
  'Content-Type': 'application/json'
}

response = requests.request("GET", url, headers=headers, data=payload)

print(response.text)
```

### List a Single Prescription
You can also filter the information for a single prescription, by adding the prescription id to the endpoint route.

```python title="GET /api/v2/rx-endpoint/{{rx_ID}}"
{{Base_URL}}/api/v2/rx-endpoint/123/
```

## Create a Prescription


```python title="POST /api/v2/rx-endpoint"
import requests
import json

url = "{{Base_URL}}/api/v2/rx-endpoint/"

payload = json.dumps({
  "diagnosis": "Gripe por virus de la gripe estacional identificado (1E30)",
  "medications": [
    {
      "presentation": "Ibuprofeno ",
      "instructions": "Tomar 1 pastilla cada 8 horas durante 7 dias",
      "drug": null
    },
    {
      "presentation": "Aspirina Protect",
      "instructions": "Tomar 1 pastilla cada 8 horas durante 7 dias",
      "drug": null
    }
  ],
  "extras": "Fiebre 38ºC, Cefaleas, escalofrios",
  "patient": {
    "name": "George Constanza",
    "email": "constanza@gmail.com",
    "date_of_birth": "1989-01-28",
    "external_patient_file": "GeCo_123123",
    "uid":"123123-12312-12312-123-123123123"
  }
})
headers = {
  'Authorization': 'Token {{Token}}',
  'Content-Type': 'application/json'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
```


### Response


```json title="[StatusCode: 201] Success!"
{
    "id": 123,
    "hospital": 1,
    "clinic": null,
    "medic": "Elizabeth@prescrypto.com",
    "patient": {
        "uid":"123123-12312-12312-123-123123123",
        "name": "George Constanza",
        "email": "constanza@gmail.com"
    },
    "diagnosis": "Gripe por virus de la gripe estacional identificado (1E30)",
    "medications": [
        {
            "id": 22,
            "presentation": "Ibuprofeno",
            "instructions": "Tomar 1 pastilla cada 8 horas durante 7 dias",
            "drug": "",
            "cost": 0.0,
            "bought": false,
            "qty": 1,
            "bought_qty": 0,
            "drug_upc": "",
            "order_id": 0,
            "category": "standard_drug",
            "ad_id": "",
            "qty_label": "1"
        },
        {
            "id": 23,
            "presentation": "Aspirina Protect",
            "instructions": "Tomar 1 pastilla cada 8 horas durante 7 dias",
            "drug": "",
            "cost": 0.0,
            "bought": false,
            "qty": 1,
            "bought_qty": 0,
            "drug_upc": "",
            "order_id": 0,
            "category": "standard_drug",
            "ad_id": "",
            "qty_label": "1"
        }
    ],
    "extras": "Fiebre 38ºC, Cefaleas, escalofrios",
    "signature": "12sd2jaskjnd13EsteEsElIDDeLaReceta",
    "created_at": "2020-06-30",
    "sent": null,
    "send_rx": true,
    "additional_data": {},
    "show_diagnosis": false,
    "rejected": false,
    "bought": false,
    "cta_link": "https://www.prescrypto.com/r/Vj"
}

```

## Resend a Prescription

```python title="POST /api/v2/rx/resend/{{signature}}/"
import requests
import json

url = "{{Base_URL}}/api/v2/rx/resend/{{signature}}/"

payload = json.dumps({
  "email": "paciente@prescrypto.com",
  "cc": "copia@prescrypto.com"
})
headers = {
  'Authorization': 'Token {{Token}}',
  'Content-Type': 'application/json'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
```


## Download a Prescription in PDF(Base64)
Prescriptions can be downloaded in their PDF representation with this endpoint, the response will be in base64, which will be needed to decode from base64 to PDF.

```python title="GET /api/v2/rx/pdf/{{eRx_Signature}}/"
import requests
import json

url = "{{Base_URL}}/api/v2/rx/pdf/eb2bd28dfac8f64207f7ad356d30a461741fc728ad55fe84c321ccd1e32634b3/"

payload = json.dumps({})
headers = {
  'Authorization': 'Token {{Token}}',
  'Content-Type': 'application/json'
}

response = requests.request("GET", url, headers=headers, data=payload)

print(response.text)
```

## Search Prescription 
A Prescription can be searched by the name of the [Patient](patient.md), the email, or the diagnosis.

```python title="GET /api/v2/rx-endpoint/?search=Gripe/"
import requests

url = "{{Base_URL}}/api/v2/rx-endpoint/?search={{query}}"

payload={}
headers = {
  'Authorization': 'Token {{Token}}'
}

response = requests.request("GET", url, headers=headers, data=payload)

print(response.text)
```

[EOF]
